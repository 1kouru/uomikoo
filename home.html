<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uomikoo</title>
    
</head>
<body>

    <div class="navbar">
        <a href="abouts.html">–û–±–æ –º–Ω–µ</a>
        <a href="social.html">–°–æ—Ü. —Å–µ—Ç–∏</a>
        <a href="photos.html">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</a>
    </div>
    
<section class="form">
    <div class="form-container">
        <div class="form-title">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–Ω–∫–µ—Ç—É</div>

        <div class="form-group photo-upload">
            <label for="photo" class="custom-file-upload">
                –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ
            </label>
            <input type="file" id="photo" name="photo" class="form-control" accept="image/*">
            <div id="photo-preview" class="photo-preview"></div>
        </div>

        <form id="form">
            <div class="form-group">
                <input type="name" id="name" name="name" class="form-control" placeholder="–ò–º—è">
            </div>
            <div class="form-group">
                <input type="inst" id="inst" name="inst" class="form-control" placeholder="–ò–Ω—Å—Ç–∞–≥—Ä–∞–º">
            </div>
            <div class="form-group">
                <input type="tel" id="phone" name="phone" class="form-control" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞">
            </div>
            <div class="form-group">
                <input type="about" id="about" name="about" class="form-control" placeholder="–û —Å–µ–±–µ">
            </div>
            <div class="form-group">
            <input type="freetime" id="freetime" name="freetime" class="form-control" placeholder="–ö–∞–∫ –ø—Ä–æ–≤–æ–¥–∏—à—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è?">
            </div>
            <div class="form-group">
            <input type="alco" id="alco" name="alco" class="form-control" placeholder="–ö–∞–∫ –æ—Ç–Ω–æ—Å–∏—à—å—Å—è –∫ –∞–ª–∫–æ–≥–æ–ª—é?">
             </div>
             <div class="form-group">
            <input type="party" id="party" name="party" class="party" placeholder="–ö–∞–∫ —Ç—É—Å—É–µ—à—å—Å—è?">
             </div>
            <div class="form-group">
            <input type="sport" id="sport" name="sport" class="form-control" placeholder="–õ—é–±–∏–º—ã–π –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞?">
             </div>
            <div class="form-group">
            <input type="cringe" id="cringe" name="cringe" class="form-control" placeholder="–°–µ–∫—Å –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–≤–∏–¥–∞–Ω–∏–∏ –∫—Ä–∏–Ω–∂?">
            </div>
    

            <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

            <p class="succes disp">–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</p>
        </form>
    </div>
</section>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        const TOKEN = '7465341480:AAHPQD-mDhipwgQVtcBwQaGmxVFapJANWZI';
        const CHAT_ID = '-1002186494915';
        const URL_API_PHOTO = `https://api.telegram.org/bot${TOKEN}/sendPhoto`;

        document.getElementById('form').addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const inst = document.getElementById('inst').value;
            const phone = document.getElementById('phone').value;
            const freetime = document.getElementById('freetime').value;
            const alco = document.getElementById('alco').value;
            const party = document.getElementById('party').value;
            const sport = document.getElementById('sport').value;
            const cringe = document.getElementById('cringe').value;
            const about = document.getElementById('about').value;
            const photo = document.getElementById('photo').files[0];

            const caption = `<b>üòÄ–ò–º—è:</b> ${name}
<b>üì©–ò–Ω—Å—Ç–∞–≥—Ä–∞–º:</b> ${inst}
<b>üì±–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</b> ${phone}
<b>üïî–í —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è:</b> ${freetime}
<b>üçæ–ö –∞–ª–∫–æ–≥–æ–ª—é –æ—Ç–Ω–æ—Å–∏—Ç—Å—è:</b> ${alco}
<b>üéâ–ö–∞–∫ —Ç—É—Å—É–µ—Ç—Å—è:</b> ${party}
<b>üèÉ–õ—é–±–∏–º—ã–π –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞:</b> ${sport}
<b>üîû–°–µ–∫—Å –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–≤–∏–¥–∞–Ω–∏–∏: </b> ${cringe}
<b>‚úè–û —Å–µ–±–µ:</b> ${about}`;


            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ —Å —Ç–µ–∫—Å—Ç–æ–º
            if (photo) {
                let formData = new FormData();
                formData.append('chat_id', CHAT_ID);
                formData.append('photo', photo);
                formData.append('caption', caption);
                formData.append('parse_mode', 'html');

                axios.post(URL_API_PHOTO, formData, {
                    headers: {
                        'Content-Type': 'multipart/form-data'
                    }
                })
                .then(response => {
                    console.log('Photo with caption sent: ', response);
                    document.querySelector('.succes').style.display = 'block';
                })
                .catch(error => {
                    console.error('Error sending photo with caption: ', error);
                });
            } else {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ç–æ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.");
            }
        });

        // –ü–æ–∫–∞–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ
        document.getElementById('photo').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const photoPreview = document.getElementById('photo-preview');
                    photoPreview.innerHTML = `<img src="${e.target.result}" alt="Preview" style="max-width: 100%; max-height: 300px; border-radius: 5px;">`;
                }
                reader.readAsDataURL(file);
            }
        });
    </script>

    <script src="js/order.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
